[2023-05-28 20:48:37,743][src.utils][INFO] - Git sha: a178fc0f18e5c319b2b1ee5acf1047cf2a8842b3
[2023-05-28 20:48:37,767][src.utils][INFO] - Changed files: ['conf/tasks/compute_dependence_with_base_changes.yaml', 'src/evals/sequence_completion_with_base_change.py']
[2023-05-28 20:48:37,780][src.utils][INFO] - Git diff:
diff --git a/conf/tasks/compute_dependence_with_base_changes.yaml b/conf/tasks/compute_dependence_with_base_changes.yaml
index 6be90fc..cdcf592 100644
--- a/conf/tasks/compute_dependence_with_base_changes.yaml
+++ b/conf/tasks/compute_dependence_with_base_changes.yaml
@@ -1,6 +1,6 @@
-sequence_type: binary
-model: gpt-4-0314
-num_shots: 4
+sequence_type: integer
+model: gpt-3.5-turbo
+num_shots: 1
 on_ambiguous_sequences: true
 num_samples: 1
 distribution: default
diff --git a/src/evals/sequence_completion_with_base_change.py b/src/evals/sequence_completion_with_base_change.py
index 24f2112..2faf54d 100644
--- a/src/evals/sequence_completion_with_base_change.py
+++ b/src/evals/sequence_completion_with_base_change.py
@@ -1,3 +1,6 @@
+import json
+import logging
+
 from src.evals.check_self_consistency import self_consistency_evaluation
 from src.pipelines.sequence_completions import (
     find_ambiguous_integer_sequences,
@@ -5,6 +8,7 @@ from src.pipelines.sequence_completions import (
 )
 from src.utils import reformat_self_consistency_results

+logger = logging.getLogger(__name__)

 def evaluate_compute_dependence_with_base_changes(
     sequence_type: str,
@@ -38,11 +42,11 @@ def evaluate_compute_dependence_with_base_changes(
             # turn the sequence from a string into a list of integers
             int_sequence = [int(x) for x in sequence.split(",")]
             total += 1
-            print("Total: ", total)
-            print(f"Sequence: {sequence}")
+            logger.info("Total: ", total)
+            logger.info(f"Sequence: {sequence}")
             for _ in range(2):
                 try:
-                    print("base be: ", base)
+                    logger.info("base be: ", base)
                     (
                         correct_consistent_explanations,
                         correct_inconsistent_explanations,
@@ -60,8 +64,8 @@ def evaluate_compute_dependence_with_base_changes(
                         samples=num_samples,
                     )
                 except Exception as e:
-                    print("oopies")
-                    print(e)
+                    logger.info("oopies")
+                    logger.info(e)
                 else:
                     if sequence in results:
                         results[sequence][
@@ -90,33 +94,13 @@ def evaluate_compute_dependence_with_base_changes(
             pass
             # TODO: have support for general base sequences here

-    print(total)
+    logger.info(total)

     # Reformat results
     results = reformat_self_consistency_results(results)

     # Save the results
-    import datetime
-    import json
-    import os
-
-    now = datetime.datetime.now()
-    now_str = now.strftime("%Y-%m-%d-%H-%M-%S")
-    results_dir = os.path.join(
-        "../results/q1.1",
-        f"{now_str}",
-    )
-    if not os.path.exists(results_dir):
-        os.makedirs(results_dir)
-    results_path = os.path.join(results_dir, "results.json")
-    with open(results_path, "w") as f:
+    with open("results.json", "w") as f:
         json.dump(results, f)

-    # Save command line arguments
-    # args_path = os.path.join(results_dir, "args.json")
-    # args_dict = vars(args)
-    # args_dict["sequence_functions"] = all_sequence_functions
-    # with open(args_path, "w") as f:
-    #     json.dump(args_dict, f)
-
-    print(f"Results saved to {results_path}")
+    logger.info("Results saved to results.json")
[2023-05-28 20:48:39,008][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 0,3,6,9
[2023-05-28 20:48:40,061][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 3,6,9,12
[2023-05-28 20:48:41,040][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 6,9,12,15
[2023-05-28 20:48:42,022][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 9,12,15,18
[2023-05-28 20:48:42,938][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 0,4,8,12
[2023-05-28 20:48:43,800][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 4,8,12,16
[2023-05-28 20:48:44,854][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 8,12,16,20
[2023-05-28 20:48:45,651][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 12,16,20,24
[2023-05-28 20:48:46,819][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 3,7,11,15
[2023-05-28 20:48:47,742][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 7,11,15,19
[2023-05-28 20:48:48,894][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 11,15,19,23
[2023-05-28 20:48:49,993][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 15,19,23,27
[2023-05-28 20:48:51,221][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 1,4,16,64
[2023-05-28 20:48:52,148][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 4,16,64,256
[2023-05-28 20:48:53,167][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 16,64,256,1024
[2023-05-28 20:48:54,395][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 64,256,1024,4096
[2023-05-28 20:48:55,405][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 0,1,2,3
[2023-05-28 20:48:56,241][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 1,2,3,4
[2023-05-28 20:48:57,026][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 2,3,4,5
[2023-05-28 20:48:57,980][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 3,4,5,6
[2023-05-28 20:48:58,745][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 3,5,7,9
[2023-05-28 20:48:59,592][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 5,7,9,11
[2023-05-28 20:49:00,555][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 7,9,11,13
[2023-05-28 20:49:01,461][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 1,5,9,13
[2023-05-28 20:49:02,343][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 5,9,13,17
[2023-05-28 20:49:03,482][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 9,13,17,21
[2023-05-28 20:49:04,630][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 13,17,21,25
[2023-05-28 20:49:05,485][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 0,2,4,6
[2023-05-28 20:49:06,307][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 2,4,6,8
[2023-05-28 20:49:07,320][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 4,6,8,10
[2023-05-28 20:49:08,322][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 6,8,10,12
[2023-05-28 20:49:09,243][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 0,6,12,18
[2023-05-28 20:49:10,130][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 6,12,18,24
[2023-05-28 20:49:10,965][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 12,18,24,30
[2023-05-28 20:49:11,784][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 18,24,30,36
[2023-05-28 20:49:12,728][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 0,1,2,0
[2023-05-28 20:49:13,778][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 1,2,0,1
[2023-05-28 20:49:15,362][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 2,0,1,2
[2023-05-28 20:49:16,413][src.evals.sequence_completion_with_base_change][INFO] - oopies
[2023-05-28 20:49:16,413][src.evals.sequence_completion_with_base_change][INFO] - list index out of range
[2023-05-28 20:49:17,487][src.evals.sequence_completion_with_base_change][INFO] - oopies
[2023-05-28 20:49:17,487][src.evals.sequence_completion_with_base_change][INFO] - list index out of range
[2023-05-28 20:49:17,488][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 1,3,5,7
[2023-05-28 20:49:20,768][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 0,1,0,1
[2023-05-28 20:49:21,634][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 1,0,1,0
[2023-05-28 20:49:22,457][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 3,3,7,7
[2023-05-28 20:49:24,092][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 2,6,10,14
[2023-05-28 20:49:24,932][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 6,10,14,18
[2023-05-28 20:49:25,793][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 10,14,18,22
[2023-05-28 20:49:26,704][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 14,18,22,26
[2023-05-28 20:49:27,617][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 4,5,6,7
[2023-05-28 20:49:28,456][src.evals.sequence_completion_with_base_change][INFO] - Sequence: 5,6,7,8
[2023-05-28 20:49:29,315][src.evals.sequence_completion_with_base_change][INFO] - 48
[2023-05-28 20:49:29,317][src.evals.sequence_completion_with_base_change][INFO] - Results saved to results.json
